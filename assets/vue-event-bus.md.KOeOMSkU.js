import{_ as i,c as s,o as t,M as a}from"./chunks/framework.Dt16nE2a.js";const g=JSON.parse('{"title":"Replacing a Vue 2 Global Event Bus with Pinia üçç","description":"","frontmatter":{},"headers":[],"relativePath":"vue-event-bus.md","filePath":"vue-event-bus.md"}'),n={name:"vue-event-bus.md"},h=a(`<h1 id="replacing-a-vue-2-global-event-bus-with-pinia-üçç" tabindex="-1">Replacing a Vue 2 Global Event Bus with Pinia üçç <a class="header-anchor" href="#replacing-a-vue-2-global-event-bus-with-pinia-üçç" aria-label="Permalink to &quot;Replacing a Vue 2 Global Event Bus with Pinia üçç&quot;">‚Äã</a></h1><p>Date: February 25, 2023</p><p>An event bus allows components to communicate with each other by emitting and listening for events.</p><p>This can be useful when indirectly related components need to communicate with each other or when passing data through props would be cumbersome or impractical.</p><p>Vue 2 supported the ability to have a global pub/sub event bus.</p><p>Component events could be easily connected together without prop drilling or global state.</p><p>This was easy to implement and, resultantly, easy to become dependent on.</p><p>Some large code bases became more difficult to maintain, due to the nebulous origins of events.</p><p>The event bus is not natively available in Vue 3, but a very similar implementation can be achieved with the <a href="https://github.com/developit/mitt" target="_blank" rel="noreferrer">Mitt</a> library, and is an effective solution for small applications.</p><p>This solution will be disregarded here though, as it has the same inherent issues as the original event bus implementation, and the global event bus is not recommended by the Vue team.</p><p>Instead, we will implement global events with Pinia, <a href="https://v3-migration.vuejs.org/breaking-changes/events-api.html#event-bus" target="_blank" rel="noreferrer">one of the approaches</a> recommended for large applications by the Vue team.</p><p>Using a state manager like Pinia or Vuex also allows for a centralized and diagnosable way of sharing events globally.</p><hr><p>Using the example of a sidebar that can be toggled open or closed, we will implement a similar emitter/listener mechanism.</p><p>The open/closed state of the sidebar will be toggled by a button in a separate component.</p><p>We first create a Pinia store, to save the state of the sidebar component (open/closed):</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes catppuccin-macchiato night-owl vp-code"><code><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">//</span><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">UiStore.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">import</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;"> defineStore </span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">}</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;"> &quot;</span><span style="--shiki-light:#A6DA95;--shiki-dark:#ECC48D;">pinia</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&quot;</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">export</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;"> const</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#82AAFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> useUiStore</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;"> =</span><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> defineStore</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">(</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&quot;</span><span style="--shiki-light:#A6DA95;--shiki-dark:#ECC48D;">mode</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&quot;</span><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;">,</span><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">		//</span><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">is sidebar Open or Closed</span></span>
<span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    state</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;">:</span><span style="--shiki-light:#939AB7;--shiki-dark:#D9F5DD;"> ()</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;"> =&gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;"> (</span><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;">{</span></span>
<span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        sideBarOpen</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;">:</span><span style="--shiki-light:#F5A97F;--shiki-dark:#FF5874;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> true</span></span>
<span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;">    }</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">)</span><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">		//</span><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">toggle the open/closed state of the sidebar</span></span>
<span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    actions</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;">:</span><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;"> {</span></span>
<span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        toggleSideBarOpen</span><span style="--shiki-light:#939AB7;--shiki-dark:#D9F5DD;">()</span><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;"> {</span></span>
<span class="line"><span style="--shiki-light:#ED8796;--shiki-dark:#7FDBCA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">            this</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#BAEBE2;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">sidebarOpen</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;"> =</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;"> !</span><span style="--shiki-light:#ED8796;--shiki-dark:#7FDBCA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">this</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#BAEBE2;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">sidebarOpen</span><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;">;</span></span>
<span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;">        },</span></span>
<span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;">    }</span></span>
<span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#C792EA;">}</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">)</span></span></code></pre></div><p>Then in the Sidebar component, we can use a computed property to get the UI state of the sidebar (open/closed), and use the watch hook to monitor that state:</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes catppuccin-macchiato night-owl vp-code"><code><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">//Sidebar.vue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">template</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">	&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">sidebar</span><span style="--shiki-light:#EED49F;--shiki-dark:#C5E478;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> ref</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&quot;</span><span style="--shiki-light:#A6DA95;--shiki-dark:#ECC48D;">sidebar</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&quot;</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">	&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">sidebar</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">template</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">script</span><span style="--shiki-light:#EED49F;--shiki-dark:#C5E478;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> setup</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">import</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;"> useUiStore </span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">}</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;"> &quot;</span><span style="--shiki-light:#A6DA95;--shiki-dark:#ECC48D;">@/stores/UI</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">import</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">watch</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">computed</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">}</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;"> &#39;</span><span style="--shiki-light:#A6DA95;--shiki-dark:#ECC48D;">vue</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;">const</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#82AAFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> sidebar</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;"> =</span><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> ref</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">(</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#FF5874;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">null</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">//</span><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Use UI store</span></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;">const</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#82AAFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> uiStore</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;"> =</span><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> useUiStore</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">//</span><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Get the open/close state of the sidebar</span></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;">const</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#82AAFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> sidebarOpen</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;"> =</span><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> computed</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">(</span><span style="--shiki-light:#939AB7;--shiki-dark:#D9F5DD;">()</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;">=&gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#7FDBCA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">uiStore</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#BAEBE2;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">sidebarOpen</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">//</span><span style="--shiki-light:#6E738D;--shiki-dark:#637777;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">Watch for changes to the sidebar state, and show/hide the sidebar accordingly</span></span>
<span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">watch</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">(</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D7DBE0;">sidebarOpen</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#939AB7;--shiki-dark:#D9F5DD;">(</span><span style="--shiki-light:#EE99A0;--shiki-dark:#D7DBE0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">newVal</span><span style="--shiki-light:#939AB7;--shiki-dark:#D9F5DD;">)</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;">=&gt;</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">{</span></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;">    if</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">(</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D7DBE0;">newVal</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">)</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">{</span></span>
<span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#7FDBCA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    sidebar</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.</span><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">show</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">()</span></span>
<span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">    }</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;">else</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">{</span></span>
<span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#7FDBCA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    sidebar</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.</span><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">hide</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">()</span></span>
<span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">    }</span></span>
<span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">}</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">)</span></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">script</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">/&gt;</span></span></code></pre></div><p>Finally in the button component, we can import the toggle function from the Pinia store, and call it on a click event:</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes catppuccin-macchiato night-owl vp-code"><code><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">//Button.vue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">template</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">button</span><span style="--shiki-light:#939AB7;--shiki-dark:#7FDBCA;"> @</span><span style="--shiki-light:#EED49F;--shiki-dark:#C5E478;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">click</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&quot;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">toggleSidebarOpen</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&quot;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#FFFFFF;">/</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">template</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">script</span><span style="--shiki-light:#EED49F;--shiki-dark:#C5E478;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> setup</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">import</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;"> useUiStore </span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">}</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;"> &quot;</span><span style="--shiki-light:#A6DA95;--shiki-dark:#ECC48D;">@/stores/UI</span><span style="--shiki-light:#A6DA95;--shiki-dark:#D9F5DD;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;">const</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#82AAFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> uiStore</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;"> =</span><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> useUiStore</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">()</span></span>
<span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C792EA;">function</span><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> toggleSidebarOpen</span><span style="--shiki-light:#939AB7;--shiki-dark:#D9F5DD;">()</span><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;"> {</span></span>
<span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#7FDBCA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    uiStore</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#C792EA;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.</span><span style="--shiki-light:#8AADF4;--shiki-dark:#82AAFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">toggleSideBarOpen</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#D6DEEB;">()</span></span>
<span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#D6DEEB;">}</span></span>
<span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#7FDBCA;">&lt;</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">/</span><span style="--shiki-light:#8AADF4;--shiki-dark:#CAECE6;">script</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#7FDBCA;">&gt;</span></span></code></pre></div><p>Now the click event in the button component is being ‚Äòlistened‚Äô to by the sidebar component, without the need for prop drilling or an event bus.</p><p>This approach is slightly more verbose than the event bus approach in Vue 2, but due to its more declarative nature, it is easier to manage and understand the origin of events.</p><p>Pinia also has the subscribe() method, which can replace the watch hook, but subscribe() monitors the <em>entire</em> store.</p><p>If just a single state needs to be watched at a time but the UI store contains multiple states, the watch hook is the preferred approach.</p><p>Cover art: Still Life with Fruit, Jacobus Linthorst, 1808</p>`,26),l=[h];function e(k,p,r,o,d,A){return t(),s("div",null,l)}const D=i(n,[["render",e]]);export{g as __pageData,D as default};
